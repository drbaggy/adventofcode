$/=undef;
my($s,$n,$p,$r)=(1,0,0,'');
$r.=abs($s-$p%40)<2?"#":".",($p++%40==19)&&($n+=$s*$p),$s+=$_ for split/\s+/,<>;
say$n;say$r=~s{(.{40})}{$1\n}gr
